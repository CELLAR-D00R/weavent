!function(a,b,c){a.jqBoxSlider=a.jqBoxSlider||{};var d={},e=!0,f={},g={speed:800,responsive:!0,timeout:5e3,autoScroll:!1,pauseOnHover:!1,effect:"scrollVert3d",perspective:1e3};d.init=function(a){var c=b.extend({},g,a),e=d.slideAnimator(c.effect);return this.each(function(){var a=b(this),d=b.extend({},c),f=a.children();a.data("bssettings",d),d.slideAnimator=e,d.slideAnimator.initialize(a,f,d),f.eq(d.bsfaceindex||0).addClass("jbs-current"),h(a,d),d.autoScroll&&(d.autointv=setInterval(function(){m(a)},d.timeout+d.speed),d.pauseOnHover&&a.on("hover",l)),d.responsive&&jqBoxSlider.responder&&jqBoxSlider.responder.watch(a)})},d.playPause=function(){return this.each(function(a,c){l.call(b(this))})},d.showSlide=function(a){return a=parseInt(a,10),this.each(function(){var c=b(this),d=c.data("bssettings");o(c),m(c,a,a<d.bsfaceindex)})},d.next=function(){return this.each(function(){var a=b(this);m(a)})},d.prev=function(){return this.each(function(){var a=b(this);m(a,null,!0)})},d.registerAnimator=function(a,c){b.each(a.split(","),function(a,b){f[b]=c}),c._cacheOriginalCSS=q,"function"==typeof c.configure&&c.configure(e,r)},d.slideAnimator=function(a){if("object"==typeof f[a])return f[a];throw new Error("The slide animator for the "+a+" effect has not been registered")},d.option=function(a,c){if("undefined"==typeof c)return(this.data("bssettings")||{})[a];if("effect"===a)throw new Error("Effect can only be set during plugin initialisation");return this.each(function(d,e){var f=b(this),g=f.data("bssettings")||{},h=n(f.children(),g);g[a]=c,o(f,g),"function"==typeof g.slideAnimator.reset&&g.slideAnimator.reset(f,h,g)})},d.destroy=function(){return this.each(function(){var a=b(this),c=a.data()||{},d=c.bssettings;d&&"object"==typeof d.slideAnimator&&(clearInterval(d.autointv),d.slideAnimator.destroy(a,d),i(d),a.removeData("bssettings").removeClass("jbs-in-motion").find(".jbs-current").removeClass("jbs-current"))})},d.resize=function(a){return b.each(a||this,function(a,c){var d=b(c),e=d.data("bssettings");e&&e.slideAnimator&&b.isFunction(e.slideAnimator.resize)&&e.slideAnimator.resize(d,n(d,e),e)})},b.extend(jqBoxSlider,d);var h=function(a,c){var d=b();null!=c.next&&(d=d.add(b(c.next).on("click",{reverse:!1},j))),null!=c.prev&&(d=d.add(b(c.prev).on("click",{reverse:!0},j))),null!=c.pause&&(d=d.add(b(c.pause).on("click",k))),d.data("bsbox",a)},i=function(a){b(a.next,a.prev,a.pause).off("click",j).off("click",k).removeData("bsbox")},j=function(a){var d=b(this).data("bsbox");o(d),m(d,c,a.data.reverse),a.preventDefault()},k=function(a){var c=b(this),d=c.data("bsbox");l.call(d),c.toggleClass("paused"),a.preventDefault()},l=function(a,c,d){var e,f=b(this);d=d||f.data("bssettings"),e=null!=d.autointv,"function"==typeof d.onplaypause&&d.onplaypause.call(f,e?"pause":"play"),(!e&&!c||(d.autointv=clearInterval(d.autointv),c))&&(d.autointv=setInterval(function(){m(f)},d.timeout+d.speed))},m=function(a,c,d){var e,f,g,h,i=a.data("bssettings"),j=n(a,i);e=i.bsfaceindex||0,f=p(e,j.length,d,c),a.hasClass("jbs-in-motion")||-1===f||(g=j.eq(e),h=j.eq(f),a.addClass("jbs-in-motion"),"function"==typeof i.onbefore&&i.onbefore.call(a,g,h,e,f),b.extend(i,i.slideAnimator.transition(b.extend({$box:a,$slides:j,$currSlide:g,$nextSlide:h,reverse:d,currIndex:e,nextIndex:f},i))),setTimeout(function(){a.removeClass("jbs-in-motion"),g.removeClass("jbs-current"),h.addClass("jbs-current"),"function"==typeof i.onafter&&i.onafter.call(a,g,h,e,f)},i.speed),i.bsfaceindex=f)},n=function(a,b){var c=a.children();return"function"==typeof b.slideFilter&&(c=c.filter(b.slideFilter)),"function"==typeof b._slideFilter&&(c=c.filter(function(a){return b._slideFilter.call(c,a,b)})),c},o=function(a,b){b||(b=a.data("bssettings")||{}),b.autoScroll&&l.call(a,c,!0,b)},p=function(a,b,c,d){var e=d;return null==e&&(e=c?0>a-1?b-1:a-1:b>a+1?a+1:0),e===a||e>=b||0>e?-1:e},q=function(a,c,d,e){var f=a.get(0),g=["position","top","left","display","overflow","width","height","zIndex"].concat(e||[]);d.origCSS||(d.origCSS={}),d.origCSS[c]||(d.origCSS[c]={}),b.each(g,function(a,b){d.origCSS[c][b]=f.style[b]})},r=function(){var a=document.body.style,b="";return"webkitTransition"in a&&(b="-webkit-"),"MozTransition"in a&&(b="-moz-"),e="webkitPerspective"in a||"MozPerspective"in a||"perspective"in a,b}();b.fn.boxSlider=function(a){return"string"==typeof a&&"function"==typeof d[a]?d[a].apply(this,Array.prototype.slice.call(arguments,1)):d.init.apply(this,arguments)}}(window,jQuery||Zepto),function(a){a.jqBoxSlider=a.jqBoxSlider||{};var b=[],c=0,d=!1;jqBoxSlider.responder={isWatching:function(){return d},watch:function(c){b.push(c),d||$(a).on("resize",e)},stopWatching:function(c){var f=-1;$.each(b,function(a,b){return b===c?(f=a,!1):void 0}),-1!==i&&b.splice(f,1),0===b.length&&($(a).off("resize",e),d=!1)}};var e=function(){clearTimeout(c),c=setTimeout(function(){$.each(b,function(a,b){jqBoxSlider.resize(b)})},20)}}(this),function(a,b,c){a.jqBoxSlider.registerAnimator("scrollVert3d,scrollHorz3d",function(){var a={},c=!1,d="";a.configure=function(a,b){c=a,d=b},a.initialize=function(b,e,f){var g=b.parent();a._cacheOriginalCSS(b,"box",f,[d+"transform",d+"transition",d+"transform-style"]),a._cacheOriginalCSS(e,"slides",f,[d+"transform"]),a._cacheOriginalCSS(g,"viewport",f,[d+"perspective"]),a.applyStyling(g,b,e,f),c?a.reset(b,f):e.filter(":gt(0)").hide()},a.applyStyling=function(a,e,f,g){var h=a.innerWidth(),i=f.innerHeight(),j={position:"absolute",top:0,left:0};a.css("height",i),f.css(j),f.eq(g.bsfaceindex||0).css("z-index",2),e.css(b.extend(j,{width:h,height:i})),-1==="absolute fixed relative".indexOf(a.css("position"))&&a.css("position","relative"),c&&(g.translateZ="scrollVert3d"===g.effect?i/2:h/2,a.css(d+"perspective",g.perspective),a.css("overflow","visible"),e.css(d+"transform-style","preserve-3d"),e.css(d+"transform","translate3d(0, 0, -"+g.translateZ+"px)"),f.eq(g.bsfaceindex||0).css(d+"transform","rotate3d(0, 1, 0, 0deg) translate3d(0, 0, "+g.translateZ+"px)"))},a.reset=function(a,b){var c=b.speed/1e3+"s";b.bsangle=0,setTimeout(function(){a.css(d+"transition",d+"transform "+c)},0)},a.transition=function(a){var b=a.bsangle+(a.reverse?90:-90),f="scrollVert3d"===a.effect;return c?(0===b&&(b=a.reverse?360:-360),a.$currSlide.css("z-index",1),a.$slides.filter(function(b){return a.currIndex!==b}).css(d+"transform","none").css("display","none"),a.$nextSlide.css(d+"transform",e(b,f)+" translate3d(0, 0,"+a.translateZ+"px)").css({display:"block",zIndex:2}),a.$box.css(d+"transform","translate3d(0, 0, -"+a.translateZ+"px) rotate3d("+(f?"1, 0, 0, ":"0, 1, 0, ")+b+"deg)"),360===Math.abs(b)&&(a.$box.css(d+"transform","translate3d(0, 0, -"+a.translateZ+"px)"),b=0),{bsangle:b}):(a.$slides.filter(function(b){return a.currIndex!==b}).hide(),a.$currSlide.fadeOut(a.speed),a.$nextSlide.fadeIn(a.speed),void 0)},a.destroy=function(a,b){var c=a.children(),d=a.parent();b.origCSS&&(a.css(b.origCSS.box),c.css(b.origCSS.slides),d.css(b.origCSS.viewport),delete b.bsangle,delete b.translateZ)},a.resize=function(b,c,d){var e=d.origCSS;e&&(b.css(e.box),c.css(e.slides),setTimeout(function(){a.applyStyling(b.parent(),b,c,d),a.reset(b,d)},0))};var e=function(a,b){switch(a){case 360:case-360:return"rotate3d(0, 1, 0, 0deg)";case 90:case-270:return"rotate3d("+(b?"1, 0, 0,":"0, 1, 0,")+" -90deg)";case 180:case-180:return"rotate3d("+(b?"1, 0, 0,":"0, 1, 0,")+" 180deg)";case 270:case-90:return"rotate3d("+(b?"1, 0, 0,":"0, 1, 0,")+" 90deg)"}};return a}())}(window,jQuery||Zepto);